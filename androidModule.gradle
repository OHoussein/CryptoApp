apply from: "$rootDir/dependencies.gradle"
apply from: "$rootDir/gradle/jacoco.gradle"

project.ext {
    minSdkVersion = 23
    compileSdkVersion = 32
    targetSdkVersion = 32

    applicationId = "dev.ohoussein.cryptoapp"
    versionCode = 1
    versionName = "1.0"
}

android {
    compileSdkVersion project.compileSdkVersion
    defaultConfig {
        minSdkVersion project.minSdkVersion
        targetSdkVersion project.targetSdkVersion
        versionCode project.versionCode
        versionName project.versionName
        testInstrumentationRunner "dev.ohoussein.core.test.MyTestRunner"
    }
    buildTypes {
        release {
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            //TO-DO signing keys
            signingConfig debug.signingConfig
        }
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    kotlinOptions {
        jvmTarget = '1.8'
        freeCompilerArgs += [
                "-XXLanguage:+InlineClasses",
                "-Xopt-in=kotlin.RequiresOptIn",
        ]
    }

    packagingOptions {
        resources.excludes.add("**/attach_hotspot_windows.dll")
        resources.excludes.add("META-INF/*")
        exclude "META-INF/licenses/**"
    }

    lintOptions {
        disable "UnsafeExperimentalUsageError",
                "UnsafeExperimentalUsageWarning"
    }
    composeOptions {
        kotlinCompilerExtensionVersion project.composeVersion
    }
}